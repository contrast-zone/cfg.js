<!DOCTYPE html>
<!--?xml version="1.0"?-->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:svg="http://www.w3.org/2000/svg">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>v-parse-cfg</title>
<script src="ace.js" type="text/javascript" charset="utf-8"></script>
<script src="../src/v-parse-cfg.js"></script>

<script id="math-exp ruleset" type="text/plain">
[
    [[    "<start>"], ["<sum>"                          ]],
    [[      "<sum>"], ["<fact>", "+", "<sum>"           ]],
    [[      "<sum>"], ["<fact>", "-", "<sum>"           ]],
    [[      "<sum>"], ["<fact>"                         ]],
    [[     "<fact>"], ["<primary>", "*", "<fact>"       ]],
    [[     "<fact>"], ["<primary>", "/", "<fact>"       ]],
    [[     "<fact>"], ["<primary>"                      ]],
    [[  "<primary>"], ["/\\s*/", "<alternate>", "/\\s*/"]],
    [["<alternate>"], ["/[0-9]+/"                       ]],
    [["<alternate>"], ["(", "<sum>", ")"                ]]
]
</script>

<script id="math-exp example" type="text/plain">1 * 2 + (3 - 4 * 5) - 6 / 7</script>

<script id="NLP ruleset" type="text/plain">
[
    [[      "<start>"], ["<S>"                                       ]],
    [[          "<S>"], ["<NP>", "/\\s+/", "<VP>"                    ]],
    [[         "<NP>"], ["<Pronoun>"                                 ]],
    [[         "<NP>"], ["<ProperNoun>"                              ]],
    [[         "<NP>"], ["<Det>", "/\\s+/", "<Nominal>"              ]],
    [[         "<VP>"], ["<Verb>"                                    ]],
    [[         "<VP>"], ["<Verb>", "/\\s+/", "<NP>"                  ]],
    [[         "<VP>"], ["<Verb>", "/\\s+/", "<NP>", "/\\s+/", "<PP>"]],
    [[         "<VP>"], ["<Verb>", "/\\s+/", "<PP>"                  ]],
    [[         "<PP>"], ["<Preposition>", "/\\s+/", "<NP>"           ]],
    [[    "<Nominal>"], ["<Nominal>", "/\\s+/", "<Noun>"             ]],
    [[    "<Nominal>"], ["<Noun>"                                    ]],
    
    [[       "<Noun>"], ["FLIGHT"     ]],
    [[       "<Noun>"], ["BREEZE"     ]],
    [[       "<Noun>"], ["TRIP"       ]],
    [[       "<Noun>"], ["MORNING"    ]],
    
    [[       "<Verb>"], ["IS"         ]],
    [[       "<Verb>"], ["PREFER"     ]],
    [[       "<Verb>"], ["LIKE"       ]],
    [[       "<Verb>"], ["NEED"       ]],
    [[       "<Verb>"], ["WANT"       ]],
    [[       "<Verb>"], ["FLY"        ]],
    
    [[    "<Pronoun>"], ["ME"         ]],
    [[    "<Pronoun>"], ["I"          ]],
    [[    "<Pronoun>"], ["YOU"        ]],
    [[    "<Pronoun>"], ["IT"         ]],
    
    [[ "<ProperNoun>"], ["ALASKA"     ]],
    [[ "<ProperNoun>"], ["BALTIMORE"  ]],
    [[ "<ProperNoun>"], ["LOS ANGELES"]],
    [[ "<ProperNoun>"], ["UNITED"     ]],
    [[ "<ProperNoun>"], ["AMERICAN"   ]],
    [[ "<ProperNoun>"], ["CHICAGO"    ]],
    
    [[        "<Det>"], ["THE"        ]],
    [[        "<Det>"], ["A"          ]],
    [[        "<Det>"], ["AN"         ]],
    [[        "<Det>"], ["THIS"       ]],
    [[        "<Det>"], ["THESE"      ]],
    [[        "<Det>"], ["THAT"       ]],
    
    [["<Preposition>"], ["FROM"       ]],
    [["<Preposition>"], ["TO"         ]],
    [["<Preposition>"], ["ON"         ]],
    [["<Preposition>"], ["NEAR"       ]]
]
</script>

<script id="NLP example" type="text/plain">I WANT A MORNING FLIGHT TO ALASKA</script>

<script id="s-expr ruleset" type="text/plain">
[
    [[    "<start>"], ["<s-expr-ws>"                    ]],
    [["<s-expr-ws>"], ["/\\s*/", "<s-expr>", "/\\s*/"   ]],
    [[   "<s-expr>"], ["<primary>"                      ]],
    [[   "<s-expr>"], ["<primary>", "/\\s+/", "<s-expr>"]],
    [[  "<primary>"], ["(", "/\\s*/", ")"               ]],
    [[  "<primary>"], ["/[^\\s()]+/"                    ]],
    [[  "<primary>"], ["(", "<s-expr-ws>", ")"          ]]
]
</script>

<script id="s-expr example" type="text/plain">(+ 3 5 (* 7 (- 8 9 10)))</script>

<script id="ambig ruleset" type="text/plain">
[
    [["<start>"], ["<A>"              ]],
    [[    "<A>"], ["<A>", "<A>", "<A>"]],
    [[    "<A>"], ["a"                ]]
]
</script>

<script id="ambig example" type="text/plain">aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</script>

<!--script id="exp-log ruleset" type="text/plain">
[
    "RULESET",
    [
        "IMP", 
        ["CON", ["SEQ", " ", "explog", " "]],
        ["DIS", ["SEQ", "goal"]]
    ],
    [
        "IMP",
        ["CON", ["SEQ", "variable", " ", "\"<-\"", " ", "explog"]],
        ["DIS", ["SEQ", "explog"]]
    ],
    [
        "IMP",
        ["CON", ["SEQ", "variable"]],
        ["DIS", ["SEQ", "explog"]]
    ],
    [
        "IMP",
        ["CON", ["SEQ", "identifier", " ", "\":\"", " ", "atom", " ", "\".\"", " ", "variable"]],
        ["DIS", ["SEQ", "variable"]]
    ],
    [
        "IMP",
        ["CON", ["SEQ", "eq"]],
        ["DIS", ["SEQ", "variable"]]
    ],
    [
        "IMP",
        ["CON", ["SEQ", "impl", " ", "\"<->\"", " ", "eq"]],
        ["DIS", ["SEQ", "eq"]]
    ],
    [
        "IMP",
        ["CON", ["SEQ", "impl"]],
        ["DIS", ["SEQ", "eq"]]
    ],
    [
        "IMP",
        ["CON", ["SEQ", "or", " ", "\"->\"", " ", "impl"]],
        ["DIS", ["SEQ", "impl"]]
    ],
    [
        "IMP",
        ["CON", ["SEQ", "or"]],
        ["DIS", ["SEQ", "impl"]]
    ],
    [
        "IMP",
        ["CON", ["SEQ", "and", " ", "\"\\/\"", " ", "or"]],
        ["DIS", ["SEQ", "or"]]
    ],
    [
        "IMP",
        ["CON", ["SEQ", "and"]],
        ["DIS", ["SEQ", "or"]]
    ],
    [
        "IMP",
        ["CON", ["SEQ", "seq", " ", "\"/\\\"", " ", "and"]],
        ["DIS", ["SEQ", "and"]]
    ],
    [
        "IMP",
        ["CON", ["SEQ", "seq"]],
        ["DIS", ["SEQ", "and"]]
    ],
    [
        "IMP",
        ["CON", ["SEQ", "prim", " ", "\"_\"", " ", "seq"]],
        ["DIS", ["SEQ", "seq"]]
    ],
    [
        "IMP",
        ["CON", ["SEQ", "prim", " ", "seq"]],
        ["DIS", ["SEQ", "seq"]]
    ],
    [
        "IMP",
        ["CON", ["SEQ", "prim"]],
        ["DIS", ["SEQ", "seq"]]
    ],
    [
        "IMP",
        ["CON", ["SEQ", "\"(\"", " ", "explog", " ", "\")\""]],
        ["DIS", ["SEQ", "prim"]]
    ],
    [
        "IMP",
        ["CON", ["SEQ", "atom"]],
        ["DIS", ["SEQ", "prim"]]
    ],
    [
        "IMP",
        ["CON", ["SEQ", "identifier"]],
        ["DIS", ["SEQ", "atom"]]
    ],
    [
        "IMP",
        ["CON", ["SEQ", "literal"]],
        ["DIS", ["SEQ", "atom"]]
    ],
    [
        "IMP",
        ["CON", ["SEQ", "/[A-Za-z][A-Za-z0-9]*/"]],
        ["DIS", ["SEQ", "identifier"]]
    ],
    [
        "IMP",
        ["CON", ["SEQ", "/\\/(?!\\*)(?!\\/)([^\\n\\/\\\\]|(\\\\.))*\\/i?/"]],
        ["DIS", ["SEQ", "literal"]]
    ],
    [
        "IMP",
        ["CON", ["SEQ", "/\"([^\"\\\\\\n]|(\\\\.))*\"/"]],
        ["DIS", ["SEQ", "literal"]]
    ],
    [
        "IMP",
        ["CON", ["SEQ", "/((\\s+)|(\\/\\/((.*\\n)|(.*$)))|(\\/\\*[\\S\\s]*?\\*\\/))*/"]],
        ["DIS", ["SEQ", " "]]
    ]
]
</script>

<script id="exp-log example" type="text/plain">/*
    UNTYPED LAMBDA CALCULUS
    
    input: lambda expression
    output: evaluated expression
*/

(
    lterm -> goal
) /\ (
    (
        // base syntax
        (                   appl -> lterm ) /\
        (              appl prim -> appl  ) /\
        (                   prim -> appl  ) /\
        (          "(" lterm ")" -> prim  ) /\
        (                    var -> prim  ) /\
        ( /[A-Za-z][0-9A-Za-z]*/ -> var   )
    ) /\ (
        // semantics
        (
            // beta reduction
            X:var . M:lterm . N:lterm . (
                (
                    (aconv X M) N -> M
                ) /\ (
                    X -> N
                )
            )
        ) /\ (
            // alpha conversion
            X:var . M:lterm . Y:var . (
                (
                    "Î»" X "." M -> aconv Y M
                ) /\ (
                    X -> Y
                )
            )
        )
    )
)
</script-->

<script>
    function populate (param) {
        ruleset1.getSession().setValue(document.getElementById(param + ' ruleset').innerHTML);
        input1.getSession().setValue(document.getElementById(param + ' example').innerHTML);
        output1.getSession().setValue("");
        nodes1.getSession().setValue("");
    }
    
    cr = String.fromCharCode(13);
    
    var parsed;

    function outputErrors (parsed) {
        for (i = 0; i < parsed.expected.length; i++) {
            output1.getSession().setValue(output1.getSession().getValue() + "    " + parsed.expected[i]);
            if (i < parsed.expected.length - 1)
                output1.getSession().setValue(output1.getSession().getValue() + " or " + String.fromCharCode(13));
        }
            
        output1.getSession().setValue(output1.getSession().getValue() + String.fromCharCode(13));
    }
    
    var inProcess = false;
    function startParse () {
        if (!inProcess) {
            inProcess = true;
            output1.getSession().setValue("");
            var grammarstring = ruleset1.getSession().getValue();
            var inputstring = input1.getSession().getValue();

            nodes1.getSession().setValue("");
            output1.getSession().setValue("Reading branching rules... ");
            output1.gotoLine(0);
            nodes1.gotoLine(0);
            setTimeout (function (){
                var time = new Date().getTime();
                try {
                    rules = JSON.parse (grammarstring);
                } catch (e) {
                    output1.getSession().setValue(output1.getSession().getValue() + String.fromCharCode(13));
                    output1.getSession().setValue(output1.getSession().getValue() + "Error in ruleset:" + String.fromCharCode(13));
                    output1.getSession().setValue(output1.getSession().getValue() + e.message + String.fromCharCode(13));
                    inProcess = false;
                    return;
                }
                
                output1.getSession().setValue(output1.getSession().getValue() + "done, " + ((new Date().getTime()) - time) + "ms." + String.fromCharCode(13));
                output1.getSession().setValue(output1.getSession().getValue() + "Processing input...");
                setTimeout (function (){
                    var time = new Date().getTime();

                    parsed = parser.parse (rules, inputstring);
                    if (!parsed.success) {
                        output1.getSession().setValue(output1.getSession().getValue() + String.fromCharCode(13));
                        output1.getSession().setValue(output1.getSession().getValue() + "Error in input at offset " + parsed.offset + " (row: " + parsed.row + ", col: " + parsed.column + ")," + String.fromCharCode(13));
                        output1.getSession().setValue(output1.getSession().getValue() + "expected: " + String.fromCharCode(13));
                        outputErrors (parsed);
                        inProcess = false;

                    } else {
                        setTimeout (function (){
                            output1.getSession().setValue(output1.getSession().getValue() + "done, " + ((new Date().getTime()) - time) + "ms." + String.fromCharCode(13));
                            output1.getSession().setValue(output1.getSession().getValue() + "Writing branching nodes... ");
                            setTimeout (function (){
                                var time = new Date().getTime();
                                var nd = JSON.stringify (parsed.parseTree, null, 2);
                                var op = JSON.stringify (parsed.sexpr, null, 2);
                                output1.getSession().setValue(output1.getSession().getValue() + "done, " + ((new Date().getTime()) - time) + "ms." + String.fromCharCode(13));
                                nodes1.getSession().setValue(nd);
                                output1.getSession().setValue(output1.getSession().getValue() + op);
                            }, 0);
                            inProcess = false;
                        }, 0);
                    }
                }, 0);
            }, 0);
        }
    }
</script>

<style type="text/css" media="screen">
    /*
    @font-face {
        font-family: 'Fira';
        src: url('FiraCode-Regular.ttf');
    }
    */
    
    html, body
    {
        overflow: hidden;
        height: 100%;
        width: 100%;
        margin-top: 0px;
        margin-left: 0px;
        background-color: white;
    }
    #ruleset1 {
        position:relative;
        width: 100%;
        height: 100%;
    }
    #input1 {
        position: relative;
        width: 100%;
        height: 100%;
        display: block;
    }
    #output1 {
        position: relative;
        width: 100%;
        height: 100%;
        display: block;
    }
    #nodes1 {
        position: relative;
        width: 100%;
        height: 100%;
        display: block;
    }
    
    #title  {color: #555555;}
    #foot   {color: #000000;}
    #all    {border-radius: 15px; border-spacing: 0px; border:0px solid #555555; color:#EEEEEE; background-color:#555555;}
    #top    {border-radius: 15px 15px 0px 0px; border-spacing: 0px; border:0px; color:#EEEEEE; background-color:#555555;}
    #bot    {border-radius: 0px 0px 15px 15px; border-spacing: 0px; border:0px; color:#EEEEEE; background-color:#555555;}
    #none   {border-radius: 0px 0px 0px 0px; color:#EEEEEE; background-color:#555555;}
    #in     {border:1px solid #555555; border-spacing: 0px; color:#EEEEEE; background-color:gray;}
    #dark   {border-spacing: 0px; border-left: 1px solid #4466DD; border-right: 1px solid #4466DD; border-bottom: 1px solid #4466DD; color:#DDEEFF; background-color:#334488;}

    a.exHover:visited, a.exHover:link {cursor: pointer; background-color: #333333; color:#EEEEEE; text-decoration:none; border-radius: 15px;}
    a.exHover:hover {cursor: pointer; background-color: #999999; color:#EEEEEE; text-decoration:none; border-radius: 15px;}
    a.exHover:active {cursor: pointer; background-color: #DDDDDD; color:#FFFFFF; text-decoration:none; border-radius: 15px;}
    a {text-align: center;}

    .dropbtn:visited {cursor: pointer; background-color: #333333; color:#EEEEEE; text-decoration:none; border-radius: 15px;}
    .dropbtn:link {cursor: pointer; background-color: #333333; color:#EEEEEE; text-decoration:none; border-radius: 15px;}
    .dropbtn:hover {cursor: pointer; background-color: #999999; color:#EEEEEE; text-decoration:none; border-radius: 15px;}
    .dropbtn:active {cursor: pointer; background-color: #DDDDDD; color:#FFFFFF; text-decoration:none; border-radius: 15px;}
    .dropbtn {
      text-align: left;
    }

    .dropdown {
      position: relative;
      display: inline-block;
    }

    .dropdown-content {
      border-radius: 7px;
      display: none;
      position: absolute;
      background-color: #333333;
      min-width: 300px;
      overflow: auto;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 65525;
    }

    .dropdown-content a {
      text-align: left;
      color: #EEEEEE;
      padding: 12px 12px;
      text-decoration: none;
      display: block;
    }

    .dropdown-content div {
      text-align: left;
      color: #AAAAAA;
      padding: 12px 12px;
      text-decoration: none;
      display: block;
    }

    .dropdown a:hover {background-color: #999999;}
    .dropdown a:active {cursor: pointer; background-color: #DDDDDD; color:#FFFFFF; text-decoration:none;}

    .show {display: block;}
</style>
</head>
<body style="font-family: Arial, Helvetica, sans-serif;">
<table width="100%" height="100%" align="center" valign="middle" cellspacing="0" cellpadding="0" border="10px" style="border: 10px solid white;">
<tbody>
<tr>
<td class="exRound" id="top" cellpadding="10" align="center" valign="middle" height="30">
<font size="5"><strong>v-parse-cfg algorithm playground</strong></font>
</td>
</tr>
<tr>
<td id="in">
    <table width="100%" cellspacing="10" cellpadding="0" height="100%" border="0">
        <tbody><tr>
        <td width="33.33%"">
            <table width="100%" cellspacing="0" cellpadding="0" height="100%" border="0">
            <tbody><tr>
             <td class="exRound" id="top" valign="middle" height="30">
                <font size="2">
                <b>
<div class="dropdown">
                  &nbsp; &nbsp; 1. grammar &nbsp;
                  <a id="mdd" onclick="myFunction()" href="javascript:void(null);" class="dropbtn">
                    &nbsp; examples &nbsp;
                  </a> &nbsp;
    <div id="myDropdown" class="dropdown-content">
        <!--div class="droplbl">context free grammars</div-->
        <a href="javascript:populate('math-exp');">&nbsp;&nbsp;&nbsp; math expression</a>
        <a href="javascript:populate('NLP');">&nbsp;&nbsp;&nbsp; natural language</a>
        <a href="javascript:populate('s-expr');">&nbsp;&nbsp;&nbsp; s-expression</a>
        <a href="javascript:populate('ambig');">&nbsp;&nbsp;&nbsp; ambiguity test</a>
        
        <!--div class="droplbl">computation (unavailable)</div>
        <a href="javascript:populate('exp-log');">&nbsp;&nbsp;&nbsp; expression logic</a>
        <a href="javascript:populate('proplog');">&nbsp;&nbsp;&nbsp; implicational logic</a>
        <a href="javascript:populate('lambda');">&nbsp;&nbsp;&nbsp; lambda calculus</a>
        <a href="javascript:populate('turing');">&nbsp;&nbsp;&nbsp; Turing machine</a-->
    </div>
</div>
                </b>
                </font>
             </td>
            </tr>
            <tr height="100%">
             <!-- style="margin-top:-8px;"-->
             <td class="exRound" id="in" valign="top">
                <div id="ruleset1" class=" ace_editor  ace-solarized-dark ace_dark"></div>
                <script>
                    ruleset1 = ace.edit("ruleset1");
                    ruleset1.$blockScrolling = Infinity;
                    ruleset1.setTheme("ace/theme/dark");
                    ruleset1.setHighlightSelectedWord(false);
                    ruleset1.setShowPrintMargin(false);
                    ruleset1.getSession().setUseSoftTabs(true);
                    ruleset1.getSession().selection.on('changeCursor', function(e) {
                        document.getElementById('lblGrammarCaret').innerHTML = "(" + (ruleset1.getCursorPosition().row + 1) + ", " + (ruleset1.getCursorPosition().column + 1) + ")&nbsp;";
                    });
                    ruleset1.getSession().on('change', function(e) {
                        //document.getElementById('forestOut').style.display = 'none';
                    });
                    ruleset1.setOptions({
                        fontFamily: "monospace",
                        fontSize: "8pt"
                    });
                </script>
             </td>
            </tr>
            <tr>
              <td class="exRound" id="bot" height="5" align="right">
               <font size="1">
                <label id="lblGrammarCaret">(1, 1)</label>&nbsp;&nbsp;&nbsp;
               </font>
              </td>
            </tr>
            </tbody></table>
        </td>
        <td width="33.33%" height="100%" cellspacing="0" cellpadding="0">
          <table width="100%" cellspacing="0" cellpadding="0" height="100%" border="0">
          <tbody><tr>
          <td>
            <table width="100%" cellspacing="0" cellpadding="0" height="100%" border="0">
            <tbody>
            <tr height="50%">
             <td style="padding-bottom: 5px;">
              <table width="100%" cellspacing="0" cellpadding="0" height="100%" border="0">
                <tbody>
                <tr>
                  <td class="exRound" id="top" height="30">
                      <font size="2">
                      <b>
                      &nbsp; &nbsp; 2. text to parse &nbsp;
                      </b>
                      <br>
                      </font>
                  </td>
                </tr>
                <tr height="100%">
                  <td class="exRound" id="in">
                    <div id="input1" class=" ace_editor ace-solarized-dark ace_dark"></div>
                    <script>
                        input1 = ace.edit("input1");
                        input1.$blockScrolling = Infinity;
                        input1.setTheme("ace/theme/dark");
                        //input1.renderer.setShowGutter(false);
                        input1.setHighlightSelectedWord(false)
                        input1.setShowPrintMargin(false);
                        input1.getSession().selection.on('changeCursor', function(e) {
                            document.getElementById('lblInputCaret').innerHTML = "(" + (input1.getCursorPosition().row + 1) + ", " + (input1.getCursorPosition().column + 1) + ")&nbsp;";
                        });
                        input1.getSession().on('change', function(e) {
                            //document.getElementById('forestOut').style.display = 'none';
                        });
                        //input1.setReadOnly(true);
                        input1.setOptions({
                            fontFamily: "monospace",
                            fontSize: "8pt"
                        });
                    </script>
                  </td>
                </tr>
                <tr>
                  <td class="exRound" id="bot" height="5" align="right">
                   <font size="1">
                    <label id="lblInputCaret">(1, 1)</label>&nbsp;&nbsp;&nbsp;
                   </font>
                  </td>
                </tr>
                </tbody>
              </table>
             </td>
            </tr>
            <tr height="50%">
             <td style="padding-top: 5px;">
              <table width="100%" cellspacing="0" cellpadding="0" height="100%" border="0">
                <tbody>
                  <tr>
                    <td class="exRound" id="top" height="30">
                      <font size="2">
                      <b>
                      &nbsp; &nbsp; 3. s-expression &nbsp;
                        <a onclick="startParse()" class="exHover" href="javascript:void(null);">
                        &nbsp; parse &nbsp;
                        </a> &nbsp;
                        <!--a id="forestOut" onclick="outputForest()" class="exHover" href="javascript:void(null);" style="display: none;">
                        &nbsp; generate leaves &nbsp;
                        </a-->
                      </b>
                      <br>
                      </font>
                    </td>
                  </tr>
                  <tr height="100%">
                    <td class="exRound" id="in" style="border-radius: 0px 0px 15px 15px;">
                      <div id="output1" class=" ace_editor ace-solarized-light ace_dark" style="border-radius: 0px 0px 14px 14px;"></div>
                      <script>
                        output1 = ace.edit("output1");
                        output1.$blockScrolling = Infinity;
                        output1.setTheme("ace/theme/light");
                        //output1.renderer.setShowGutter(false);
                        output1.setHighlightSelectedWord(false);
                        output1.setShowPrintMargin(false);
                        output1.setReadOnly(true);
                        output1.setOptions({
                            fontFamily: "monospace",
                            fontSize: "8pt"
                        });
                      </script>
                    </td>
                  </tr>
                </tbody>
              </table>
             </td>
            </tr>
           </tbody></table>
          </td>
          </tr>
          
          </tbody></table>
        </td>
        <td width="33.33%" height="100%">
            <table width="100%" cellspacing="0" cellpadding="0" height="100%" border="0">
            <tbody><tr>
             <td class="exRound" id="top" valign="middle" height="30">
                <font size="2">
                <b>
                  &nbsp; &nbsp; 4. abstract syntax tree &nbsp;
                  <a onclick="nodes1.getSession().foldAll()" class="exHover" href="javascript:void(null);">
                    &nbsp; collapse all &nbsp;
                  </a> &nbsp;
                  <a onclick="nodes1.getSession().unfold()" class="exHover" href="javascript:void(null);">
                    &nbsp; expand all &nbsp;
                  </a> &nbsp;
                </b>
                </font>
             </td>
            </tr>
            <tr height="100%">
             <td class="exRound" id="in" style="border-radius: 0px 0px 15px 15px;">
              <div id="nodes1" class=" ace_editor ace-solarized-light ace_dark" style="border-radius: 0px 0px 14px 14px;"></div>
              <script>
                nodes1 = ace.edit("nodes1");
                nodes1.$blockScrolling = Infinity;
                nodes1.getSession().setMode("ace/mode/json");
                //editor.getSession().setUseWrapMode(true);
                nodes1.setTheme("ace/theme/light");
                //nodes1.renderer.setShowGutter(false);
                nodes1.setHighlightSelectedWord(false);
                nodes1.setShowPrintMargin(false);
                nodes1.setReadOnly(true);
                nodes1.setOptions({
                    fontFamily: "monospace",
                    fontSize: "8pt"
                });
              </script>
             </td>
            </tr>
            </tbody></table>
        </td>
        </tr>
    </tbody></table>
</td>
</tr>
<tr>
 <td id="bot" valign="middle" height="30">
    <table width="100%" height="100%">
    <tr>
        <td align="left">
            <font size="2">
                &nbsp; &nbsp; <a href="https://github.com/ajaxorg/ace" style="color:white;">powered by ACE editor</a>
            </font>
        </td>
        <td align="right">
            <font size="3">
              <b>
                <a class="exHover" href="https://github.com/contrast-zone/exp-log" target="new">
                &nbsp; visit me on GitHub &nbsp;
                </a>
                &nbsp; &nbsp;
              </b>
            </font>
        </td>
    </tr>
    </table>
 </td>
</tr>
</tbody>
</table>

<script>
    populate ('math-exp');
</script>

<script>
    /* When the user clicks on the button, 
    toggle between hiding and showing the dropdown content */
    function myFunction() {
      document.getElementById("myDropdown").draggable = false;
      document.getElementById("myDropdown").ondragstart = function () {return false};
            
      document.getElementById("myDropdown").style.left = document.getElementById("mdd").offsetLeft + "px";
      document.getElementById("myDropdown").style.top = document.getElementById("mdd").offsetTop + document.getElementById("mdd").offsetHeight + 3 + "px";
      
      document.getElementById("myDropdown").classList.toggle("show");
    }

    // Close the dropdown if the user clicks outside of it
    window.onclick = function(event) {
      if (!event.target.matches('.dropbtn') && !event.target.matches('.droplbl')) {
        var dropdowns = document.getElementsByClassName("dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    }
</script>

</body>
</html>

